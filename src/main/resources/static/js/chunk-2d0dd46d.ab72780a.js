(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd46d"],{8164:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-card",{staticClass:"pa-5"},[a("div",{staticClass:" tw-flex tw-justify-between"},[a("div",[a("p",{staticClass:"tw-text-xl tw-font-bold"},[t._v("竞赛:"+t._s(t.title))])]),a("div",[a("v-btn",{staticClass:"tw-w-full",attrs:{color:"primary"},on:{click:function(e){return t.goRecord()}}},[t._v("查看记录")])],1)]),a("v-divider"),a("div",{staticClass:"tw-flex tw-items-center pa-5"},[a("div",{staticClass:"tw-font-bold tw-text-xl"},[a("v-chip",{attrs:{color:"primary",label:""}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-timer-outline ")]),t._v(" "+t._s(t.TimeStart)+" ")],1)],1),a("v-progress-linear",{staticClass:"mx-5",attrs:{value:t.value,color:"primary",height:"25"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.value;return[a("strong",[t._v(t._s(Math.ceil(n))+"%")])]}}])}),a("div",{staticClass:"tw-font-bold tw-text-xl"},[a("v-chip",{attrs:{color:"primary",label:""}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-timer-outline ")]),t._v(" "+t._s(t.TimeEnd)+" ")],1)],1)],1),a("v-divider"),a("v-data-table",{attrs:{headers:t.headers,items:t.tableData,"hide-default-footer":"",loading:t.loading,"footer-props":{showFirstLastPage:!0,itemsPerPageOptions:[5,10,15]}},scopedSlots:t._u([{key:"item.enter",fn:function(e){var n=e.item;return[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.goInProblem(n)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-door-open")]),t._v(" 进入问题 ")],1)]}}],null,!0)})],1)],1)],1)},o=[],i=a("4ec3"),r={data:function(){return{contestId:null,headers:[{text:"问题序号",align:"start",sortable:!1,value:"shownId"},{text:"标题",value:"title",sortable:!1},{text:"我的分数",value:"myScore",sortable:!1},{text:"总分",value:"totalScore",sortable:!1},{text:"进入问题",value:"enter",sortable:!1}],tableData:[],loading:!1,startTime:null,endTime:null,nowTime:null,title:null,value:null}},mounted:function(){this.contestId=this.$route.params.contestId,this.getDataFromApi()},computed:{TimeStart:function(){return this.timestampToTime(this.startTime)[0]+this.timestampToTime(this.startTime)[1]},TimeEnd:function(){return this.timestampToTime(this.endTime)[0]+this.timestampToTime(this.endTime)[1]}},methods:{timestampToTime:function(t){var e=new Date(parseInt(t)),a=e.getFullYear()+"-",n=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",o=e.getDate()+" ",i=e.getHours()+":",r=e.getMinutes();return parseInt(r)<10&&(r="0"+r),[a+n+o,i+r]},getDataFromApi:function(){var t=this;i["a"].contestFactory.getContestInfo(this.contestId).then((function(e){t.tableData=e.content.problems,t.startTime=e.content.contest.startTime,t.endTime=e.content.contest.endTime,t.title=e.content.contest.title,t.nowTime=new Date(Date.now()).getTime(),t.value=(t.nowTime-t.startTime)/(t.endTime-t.startTime)*100,t.value=t.value>100?100:t.value,console.log(e)}))},goInProblem:function(t){this.$router.push({name:"problemPage",params:{problemId:t.problemId}})},goRecord:function(){var t=this,e=0;i["a"].authFactory.getInfo().then((function(a){console.log(a),e=a.content.id,t.$router.push({name:"recordPage",query:{userId:e,problemId:"",stateCode:"",groupId:t.$route.params.groupId,contestId:t.contestId}})}))}}},s=r,l=a("2877"),c=a("6544"),u=a.n(c),d=a("8336"),m=a("b0af"),v=a("cc20"),p=a("a523"),h=a("8fea"),f=a("ce7e"),g=a("132d"),T=a("8e36"),b=Object(l["a"])(s,n,o,!1,null,null,null);e["default"]=b.exports;u()(b,{VBtn:d["a"],VCard:m["a"],VChip:v["a"],VContainer:p["a"],VDataTable:h["a"],VDivider:f["a"],VIcon:g["a"],VProgressLinear:T["a"]})}}]);
//# sourceMappingURL=chunk-2d0dd46d.ab72780a.js.map