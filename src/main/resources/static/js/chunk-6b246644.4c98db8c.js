(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b246644"],{"03ca":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SnackBar",{ref:"sb"}),a("v-container",{staticClass:" tw-px-10",attrs:{"grid-list-xs":"",fluid:""}},[a("v-card",{staticClass:"pa-5"},[a("p",{staticClass:"tw-text-xl tw-font-bold"},[t._v("提交记录")]),a("v-row",[a("v-col",{attrs:{md:"2"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("div",{staticClass:"tw-mt-6"},[t._v("用户:")])]),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"用户","single-line":""},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}})],1),a("v-spacer")],1)],1),a("v-col",{attrs:{md:"2"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("div",{staticClass:"tw-mt-6"},[t._v("问题:")])]),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"问题","single-line":""},model:{value:t.problemId,callback:function(e){t.problemId=e},expression:"problemId"}})],1),a("v-spacer")],1)],1),a("v-col",{attrs:{md:"2"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("div",{staticClass:"tw-mt-6"},[t._v("状态:")])]),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"状态","single-line":""},model:{value:t.stateCode,callback:function(e){t.stateCode=e},expression:"stateCode"}})],1),a("v-spacer")],1)],1),a("v-col",{attrs:{md:"2"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("div",{staticClass:"tw-mt-6"},[t._v("班级Id:")])]),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"班级Id","single-line":""},model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}})],1)],1)],1),a("v-col",{attrs:{md:"2"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("div",{staticClass:"tw-mt-6"},[t._v("竞赛:")])]),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"竞赛Id","single-line":""},model:{value:t.contestId,callback:function(e){t.contestId=e},expression:"contestId"}})],1),a("v-spacer")],1)],1),a("v-col",{attrs:{md:"2"}},[a("v-btn",{staticClass:"ma-3 white--text",attrs:{loading:t.searchLoading,disabled:t.searchLoading,color:"primary"},on:{click:function(e){return t.getDataFromApi(1)}}},[t._v(" 搜索 "),a("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-magnify ")])],1)],1)],1),a("v-divider"),a("v-data-table",{attrs:{headers:t.headers,items:t.tableData,"hide-default-footer":"",loading:t.loading,"items-per-page":t.itemsPerPage,"footer-props":{showFirstLastPage:!0}},scopedSlots:t._u([{key:"item.resultId",fn:function(e){var i=e.item;return[a("div",{on:{click:function(e){return t.goDetail(i)}}},[t._v(t._s(i.resultId))])]}},{key:"item.stateCode",fn:function(e){var i=e.item;return[a("div",{staticClass:" tw-font-bold",class:t.colorMap[i.stateCode]},[t._v(t._s(i.stateCode))])]}}],null,!0)}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{"total-visible":9,length:t.totalPage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1)},s=[],n=(a("159b"),a("b680"),a("4ec3")),r=a("4c05"),o={components:{SnackBar:r["a"]},mounted:function(){this.userId=this.$route.query.userId,this.stateCode=this.$route.query.stateCode,this.problemId=this.$route.query.problemId,this.groupId=this.$route.query.groupId,this.contestId=this.$route.query.contestId,this.getDataFromApi("")},data:function(){return{contestId:"",groupId:"",colorMap:{WA:"tw-text-red-600",MLE:"tw-text-yellow-600",TLE:"tw-text-yellow-600",RE:"tw-text-yellow-600",AC:"tw-text-green-600",CE:"tw-text-purple-600"},searchLoading:!1,userId:"",problemId:"",stateCode:"",options:{},loading:!1,totalPage:100,totalAmont:0,tableData:[],page:1,pageCount:0,itemsPerPage:13,headers:[{text:"提交Id",align:"start",sortable:!1,value:"resultId"},{text:"用户Id",value:"userId",sortable:!1},{text:"班级Id",value:"groupId",sortable:!1},{text:"竞赛Id",value:"contestId",sortable:!1},{text:"问题Id",value:"problemId",sortable:!1},{text:"提交时间",value:"submitTime",sortable:!1},{text:"状态码",value:"stateCode",sortable:!1},{text:"成绩",value:"score",sortable:!1}]}},watch:{page:{handler:function(){this.getDataFromApi(0)},deep:!0}},methods:{getDataFromApi:function(t){var e=this;1==t&&(this.searchLoading=!0),this.loading=!0,n["a"].recordFactory.getRecord(this.userId,this.problemId,this.stateCode,this.groupId,this.contestId,this.page,this.itemsPerPage).then((function(t){console.log(t),e.tableData=t.content.list,console.log(e.tableData),e.tableData.forEach((function(t){return t.submitTime=e.timestampToTime(t.submitTime),t.score=t.score.toFixed(2),t})),e.totalAmont=t.content.totalAmont,e.totalPage=t.content.totalPage,e.loading=!1,e.searchLoading=!1,console.log(e.tableData)})).catch((function(){e.$refs.sb.warn("未知错误"),e.loading=!1}))},timestampToTime:function(t){var e=new Date(parseInt(t)),a=e.getFullYear()+"-",i=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=e.getDate()+" ",n=e.getHours()+":",r=e.getMinutes();return parseInt(r)<10&&(r="0"+r),a+i+s+n+r},goDetail:function(t){console.log("asdsad"),this.$router.push({name:"recordDetail",params:{resultId:t.resultId}})}}},l=o,c=a("2877"),u=a("6544"),d=a.n(u),v=a("8336"),h=a("b0af"),g=a("62ad"),p=a("a523"),f=a("8fea"),m=a("ce7e"),b=a("132d"),I=a("891e"),x=a("0fd9"),w=a("2fa4"),y=a("8654"),C=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=C.exports;d()(C,{VBtn:v["a"],VCard:h["a"],VCol:g["a"],VContainer:p["a"],VDataTable:f["a"],VDivider:m["a"],VIcon:b["a"],VPagination:I["a"],VRow:x["a"],VSpacer:w["a"],VTextField:y["a"]})},"17b3":function(t,e,a){},"2fa4":function(t,e,a){"use strict";a("20f6");var i=a("80d2");e["a"]=Object(i["i"])("spacer","div","v-spacer")},"891e":function(t,e,a){"use strict";var i=a("2909"),s=a("5530"),n=(a("a9e3"),a("99af"),a("d3b7"),a("25f0"),a("d81d"),a("17b3"),a("9d26")),r=a("dc22"),o=a("a9ad"),l=a("de2c"),c=a("7560"),u=a("58df");e["a"]=Object(u["a"])(o["a"],Object(l["a"])({onVisible:["init"]}),c["a"]).extend({name:"v-pagination",directives:{Resize:r["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(s["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var a=e%2===0?1:0,s=Math.floor(e/2),n=this.length-s+1+a;if(this.value>s&&this.value<n){var r=1,o=this.length,l=this.value-s+2,c=this.value+s-2-a,u=l-1===r+1?2:"...",d=c+1===o-1?c+1:"...";return[1,u].concat(Object(i["a"])(this.range(l,c)),[d,this.length])}if(this.value===s){var v=this.value+s-1-a;return[].concat(Object(i["a"])(this.range(1,v)),["...",this.length])}if(this.value===n){var h=this.value-s+1;return[1,"..."].concat(Object(i["a"])(this.range(h,this.length)))}return[].concat(Object(i["a"])(this.range(1,s)),["..."],Object(i["a"])(this.range(n,this.length)))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var a=[];t=t>0?t:1;for(var i=t;i<=e;i++)a.push(i);return a},genIcon:function(t,e,a,i,s){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{disabled:a,type:"button","aria-label":s},on:a?{}:{click:i}},[t(n["a"],[e])])])},genItem:function(t,e){var a=this,i=e===this.value&&(this.color||"primary"),s=e===this.value,n=s?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":s,"aria-label":this.$vuetify.lang.t(n,e)},on:{click:function(){return a.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(a,i){return t("li",{key:i},[isNaN(Number(a))?t("span",{class:"v-pagination__more"},[a.toString()]):e.genItem(t,a)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})}}]);
//# sourceMappingURL=chunk-6b246644.4c98db8c.js.map